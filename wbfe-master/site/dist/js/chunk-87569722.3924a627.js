(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-87569722"],{"44c8":function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return l}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"send-currency-container"},[n("interface-container-title",{attrs:{title:t.$t("sendTx.send-tx")}}),n("div",{staticClass:"send-form"},[n("div",{staticClass:"form-block amount-to-address"},[n("div",{staticClass:"amount"},[n("div",{staticClass:"single-input-block"},[n("div",{staticClass:"title"},[n("h4",[t._v(t._s(t.$t("sendTx.type")))])]),n("currency-picker",{attrs:{currency:t.tokensWithBalance,page:"sendEthAndTokens",token:!0,default:""!==t.selectedCurrency?t.selectedCurrency:{}},on:{selectedCurrency:function(e){t.selectedCurrency=e}}})],1),n("div",{staticClass:"single-input-block"},[n("div",{staticClass:"title"},[n("h4",[t._v(t._s(t.$t("sendTx.amount")))])]),n("div",{staticClass:"the-form amount-number"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.toValue,expression:"toValue"}],attrs:{placeholder:t.$t("sendTx.amount"),type:"number",min:"0",name:"value",step:"any"},domProps:{value:t.toValue},on:{input:function(e){e.target.composing||(t.toValue=e.target.value)}}}),n("i",{class:[!t.isValidAmount.valid||t.errors.has("value")?"not-good":"","fa fa-check-circle good-button"],attrs:{"aria-hidden":"true"}})]),!t.isValidAmount.valid||t.errors.has("value")?n("div",{staticClass:"error-message-container"},[n("p",[t._v(t._s(t.isValidAmount.msg))])]):t._e()])]),n("div",{staticClass:"to-address"},[n("dropdown-address-selector",{attrs:{"clear-address":t.clearAddress,title:t.$t("sendTx.to-addr")},on:{toAddress:function(e){return t.getToAddress(e)}}})],1),n("div",{staticClass:"tx-fee"},[n("div",{staticClass:"title"},[n("h4",[t._v(t._s(t.$t("sendTx.tx-fee")))]),n("p",{staticClass:"copy-button prevent-user-select",on:{click:t.openSettings}},[t._v(t._s(t.$t("common.edit")))])]),n("div",{staticClass:"fee-value"},[n("div",{staticClass:"gwei"},[t._v(" "+t._s(t.gasPrice)+" "+t._s(t.$t("common.gas.gwei"))+" ")]),n("div",{directives:[{name:"show",rawName:"v-show",value:"ETH"===t.network.type.name,expression:"network.type.name === 'ETH'"}],staticClass:"usd"},[n("i18n",{attrs:{path:"sendTx.cost-eth-convert",tag:"div"}},[n("span",{attrs:{slot:"txFeeEth"},slot:"txFeeEth"},[t._v(t._s(t.txFeeEth))]),n("span",{attrs:{slot:"convert"},slot:"convert"},[t._v(t._s(t.convert))])])],1)]),t.showGasWarning?n("div",{staticClass:"gas-price-warning"},[t._v(">>"+t._s(t.$t("errorsGlobal.high-gas-limit-warning")))]):t._e()])])]),n("div",{staticClass:"send-form advanced"},[n("div",{staticClass:"advanced-content"},[n("div",{staticClass:"toggle-button-container"},[n("h4",[t._v(t._s(t.$t("common.advanced")))]),n("div",{staticClass:"toggle-button"},[n("span",[t._v(t._s(t.$t("sendTx.data-gas")))]),n("div",{staticClass:"sliding-switch-white"},[n("label",{staticClass:"switch"},[n("input",{attrs:{type:"checkbox"},on:{click:function(e){t.advancedExpand=!t.advancedExpand}}}),n("span",{staticClass:"slider round"})])])])]),n("div",{staticClass:"input-container",class:t.advancedExpand&&"input-container-open"},[n("div",{staticClass:"margin-container"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isToken,expression:"!isToken"}],staticClass:"the-form user-input"},[n("p",[t._v(t._s(t.$t("sendTx.add-data")))]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.toData,expression:"toData"}],attrs:{placeholder:t.$t("sendTx.ph-add-data"),type:"text",autocomplete:"off"},domProps:{value:t.toData},on:{input:function(e){e.target.composing||(t.toData=e.target.value)}}}),n("i",{class:[t.isValidData?"":"not-good","fa fa-check-circle good-button"],attrs:{"aria-hidden":"true"}})]),n("div",{staticClass:"the-form user-input"},[n("p",[t._v(t._s(t._f("capitalize")(t.$t("common.gas.limit"))))]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.gasLimit,expression:"gasLimit"}],attrs:{placeholder:t.$t("common.gas.limit"),type:"number",min:"0",name:""},domProps:{value:t.gasLimit},on:{input:function(e){e.target.composing||(t.gasLimit=e.target.value)}}}),n("i",{class:[t.isValidGasLimit?"":"not-good","fa fa-check-circle good-button"],attrs:{"aria-hidden":"true"}})])])])])]),n("div",{staticClass:"submit-button-container"},[n("div",{class:[t.validInputs?"":"disabled","submit-button large-round-button-green-filled"],on:{click:t.submitTransaction}},[t._v(t._s(t.$t("sendTx.send-tx")))]),n("div",{staticClass:"clear-all-btn",on:{click:function(e){return t.clear()}}},[t._v(t._s(t.$t("common.clear-all")))])])],1)},s=[],i=n("eb56"),o=i["a"],r=(n("ccc8"),n("2877")),u=Object(r["a"])(o,a,s,!1,null,"ecadcc90",null),l=u.exports},ccc8:function(t,e,n){"use strict";var a=n("d5c7"),s=n.n(a);s.a},d5c7:function(t,e,n){},eb56:function(t,e,n){"use strict";(function(t){n("7db0"),n("b0c0"),n("a9e3"),n("b680"),n("d3b7"),n("ac1f"),n("25f0"),n("1276"),n("498a");var a=n("0122"),s=(n("96cf"),n("c964")),i=n("f3f3"),o=n("2f62"),r=n("55c1"),u=n("d7a2"),l=n("ce96"),d=n("8d23"),c=n("901e"),p=n.n(c),m=n("70c1"),y=n.n(m),h=n("1131"),f=n.n(h),b=n("a18f"),v=n.n(b),g=n("94b2");e["a"]={components:{"interface-container-title":r["a"],"currency-picker":u["a"],"dropdown-address-selector":g["a"]},props:{checkPrefilled:{type:Function,default:function(){}},clearPrefilled:{type:Function,default:function(){}},isPrefilled:{type:Boolean,default:!1},value:{type:String,default:"0"},data:{type:String,default:""},to:{type:String,default:""},gaslimit:{type:String,default:""},gas:{type:Number,default:0},tokensymbol:{type:String,default:""},tokensWithBalance:{type:Array,default:function(){return[]}},getBalance:{type:Function,default:function(){}},highestGas:{type:String,default:"0"}},data:function(){return{advancedExpand:!1,isValidAddress:!1,hexAddress:"",address:"",toValue:"0",gasLimit:"21000",toData:"",selectedCurrency:"",ethPrice:0,clearAddress:!1}},computed:Object(i["a"])(Object(i["a"])({},Object(o["c"])("main",["account","gasPrice","web3","network","linkQuery","online","gasLimitWarning"])),{},{showGasWarning:function(){return this.gasPrice>=this.gasLimitWarning},txFee:function(){return new p.a(y.a.toWei(100,"gwei")).times(this.gasLimit||0)},txFeeEth:function(){return new p.a(this.txFee).gt(0)?y.a.fromWei(this.txFee,"ether"):0},isValidAmount:function(){var t=this.$t("errorsGlobal.not-valid-amount-total")+" Gas "+this.$t("errorsGlobal.to-send"),e=this.$t("errorsGlobal.not-valid-amount-total")+" "+this.selectedCurrency.symbol+" "+this.$t("errorsGlobal.to-send"),n=this.$t("errorsGlobal.not-valid-amount-total")+" "+this.network.type.currencyName+" "+this.$t("errorsGlobal.to-send"),a=this.$t("errorsGlobal.invalid-value"),s=new p.a(this.toValue).lte(this.selectedCurrency.balance),i=new p.a(this.toValue).plus(this.txFeeEth).lte(this.balanceDefault),o=new p.a(this.txFeeEth).lte(this.balanceDefault),r=this.isValidDecimals;if(new p.a(this.toValue).lt(0))return{msg:a,valid:!1};if(this.isToken){var u=s&&o&&r;return{valid:u,msg:u?"":s?o?a:t:e}}return{valid:!0,msg:i?"":i?a:n}},isValidDecimals:function(){var t=(this.toValue+"").split(".")[1];return!t||(this.isToken?t.length<=this.selectedCurrency.decimals:t.length<=18)},isValidData:function(){return l["c"].validateHexString(this.toData)},isValidGasLimit:function(){return new p.a(this.gasLimit).gte(0)},balanceDefault:function(){return new p.a(y.a.fromWei(this.account.balance,"ether"))},validInputs:function(){return this.isValidAmount.valid&&this.isValidAddress&&new p.a(this.gasLimit).gte(0)&&l["c"].validateHexString(this.toData)},isToken:function(){var t=this.network.type.currencyName;return this.selectedCurrency.symbol!==t},txData:function(){return this.isToken?this.getTokenTransferABI(this.toValue,this.selectedCurrency.decimals):l["c"].sanitizeHex(this.toData)},txValue:function(){return this.isToken?"0x00":l["c"].sanitizeHex(y.a.toWei(this.toValue,"ether").toString(16))},txTo:function(){return this.isToken?this.selectedCurrency.address.toLowerCase():this.hexAddress.toLowerCase().trim()},multiWatch:function(){return this.toValue,this.isValidAddress,this.toData,this.selectedCurrency,(new Date).getTime()/1e3},convert:function(){return this.ethPrice?new p.a(new p.a(this.txFeeEth).times(new p.a(this.ethPrice))).toFixed(2).toString():"--"}}),watch:{multiWatch:f.a._.debounce((function(){this.validInputs&&this.estimateGas()}),500),network:function(t){this.online&&"ETH"===t.type.name&&this.getEthPrice()},isPrefilled:function(){this.prefillForm()}},mounted:function(){this.checkPrefilled(),this.online&&"ETH"===this.network.type.name&&this.getEthPrice()},methods:{clear:function(){this.toData="",this.toValue="0",this.hexAddress="",this.address="",this.gasLimit="21000",this.isValidAddress=!1,this.advancedExpand=!1,this.clearAddress=!this.clearAddress,this.selectedCurrency={name:"WB_T_I",symbol:"WB_T_I"}},getToAddress:function(t){this.address=t.address,this.hexAddress=t.address,this.isValidAddress=t.valid},prefillForm:function(){var t=this;if(this.isPrefilled){var e=this.tokensymbol?this.tokensWithBalance.find((function(e){return e.symbol.toLowerCase()===t.tokensymbol.toLowerCase()})):void 0;this.toData=l["c"].validateHexString(this.data)?this.data:"",this.toValue=this.value,this.hexAddress=this.to,this.address=this.to,this.gasLimit=new p.a(this.gaslimit).toString(),this.selectedCurrency=e||this.selectedCurrency,this.advancedExpand=!0,l["d"].responseHandler("Form has been prefilled. Please proceed with caution!",l["d"].WARN),this.clearPrefilled()}},openSettings:function(){this.$eventHub.$emit("open-settings")},sendEntireBalance:function(){this.isToken?this.toValue=this.selectedCurrency.balance:this.toValue=this.balanceDefault>0?this.balanceDefault.minus(y.a.fromWei(new p.a(y.a.toWei(this.gasPrice,"gwei")).times(this.gasLimit).toString(),"ether")):0},getTokenTransferABI:function(t,e){var n=[{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_amount",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],a=new this.web3.eth.Contract(n);return a.methods.transfer(this.hexAddress.toLowerCase(),new p.a(t).times(new p.a(10).pow(e)).toFixed()).encodeABI()},estimateGas:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.web3.eth.getCoinbase();case 2:n=e.sent,a={from:n,value:t.txValue,to:t.txTo,gasPrice:l["c"].sanitizeHex(y.a.toWei(100,"gwei").toString(16)),data:t.txData},t.web3.eth.estimateGas(a).then((function(e){t.gasLimit=e})).catch((function(e){t.gasLimit=-1,l["d"].responseHandler(e,l["d"].ERROR)}));case 5:case"end":return e.stop()}}),e)})))()},submitTransaction:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var a,s,i,o,r,u,l,c,p,m;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=0,s="0x4745e11EFBC7906678cAEfA272eE450b0fa17cE3",i="0xA8CF4935031296DC03baB19FbB55f66fC9b6F1CA",n.next=5,e.web3.eth.getTransactionCount(s).then((function(t){a=t}));case 5:o=new t("66d3e402bee49d244a437321d29398916beaf2226f9cc58723abefca33998260","hex"),r=e.web3.utils.toHex(1e16),u=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_newEmergencyControllerRole",type:"address"}],name:"setEmergencyControllerRole",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"unpause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_addr",type:"address"}],name:"unfreeze",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_newSupplyController",type:"address"}],name:"setSupplyController",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"paused",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_addr",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"initialize",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"pause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_addr",type:"address"}],name:"freeze",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_value",type:"uint256"}],name:"decreaseSupply",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"emergencyControllerRole",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_value",type:"uint256"}],name:"increaseSupply",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_addr",type:"address"}],name:"wipeFrozenAddress",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_addr",type:"address"}],name:"isFrozen",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"supplyController",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"oldOwner",type:"address"},{indexed:!0,name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[],name:"Pause",type:"event"},{anonymous:!1,inputs:[],name:"Unpause",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"addr",type:"address"}],name:"AddressFrozen",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"addr",type:"address"}],name:"AddressUnfrozen",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"addr",type:"address"}],name:"FrozenAddressWiped",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"oldEmergencyControllerRole",type:"address"},{indexed:!0,name:"newEmergencyControllerRole",type:"address"}],name:"EmergencyControllerRoleSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"SupplyIncreased",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"SupplyDecreased",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"oldSupplyController",type:"address"},{indexed:!0,name:"newSupplyController",type:"address"}],name:"SupplyControllerSet",type:"event"}],l="0x5360f7B1ad643524c4F937f8058AE043799A3d77",c=new e.web3.eth.Contract(u,l,{from:s}),p={from:s,gasPrice:e.web3.utils.toHex(2e9),gasLimit:e.web3.utils.toHex(21e4),to:l,value:"0x0",data:c.methods.transferFrom(s,i,r).encodeABI(),nonce:e.web3.utils.toHex(a)},m=new d["Transaction"](p),m.sign(o),e.web3.eth.sendSignedTransaction("0x"+m.serialize().toString("hex")),c.methods.balanceOf(s).call().then((function(){}));case 15:case"end":return n.stop()}}),n)})))()},getEthPrice:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v()("https://cryptorates.mewapi.io/ticker?filter=ETH").then((function(t){return t.json()})).catch((function(t){l["d"].responseHandler(t,l["d"].ERROR)}));case 2:n=e.sent,t.ethPrice="object"===Object(a["a"])(n)?n.data.ETH.quotes.USD.price:0;case 4:case"end":return e.stop()}}),e)})))()}}}}).call(this,n("1c35").Buffer)}}]);
//# sourceMappingURL=../sourcemaps/js/chunk-87569722.3924a627.js.map